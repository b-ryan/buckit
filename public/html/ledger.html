<div id="ledger" ng-controller="AccountTransactionsCtrl">
  <div class="content">
    <h3>Ledger</h3>
    <select
      ng-model="currAccount"
      ng-options="account.name for account in accounts"
      >
    </select>
    <table class="table table-bordered table-striped table-hover">
      <thead>
        <tr>
          <th>Date</th>
          <th>Payee</th>
          <th>Details</th>
          <th>Amount</th>
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat="transaction in transactions">
          <td>{{transaction.date}}</td>
          <td>{{transaction.payee.name}}</td>
          <td>{{transaction.splits | transactionDestination:currAccount}}</td>
          <td>
            {{transaction.splits | transactionTotal:currAccount | currency}}
          </td>
        </tr>
      </tbody>
    </table>
    <div>
      <h3>Create a new transaction</h3>
      <div class="form-horizontal">
        Date: <input
          type="text"
          datepicker-popup="MMMM dd, yyyy"
          ng-model="newTransaction.date"
          is-open="datepickerOpened"
          ng-required="true"
        />
        <button class="btn" ng-click="openDatepicker()">
          <i class="icon-calendar"></i>
        </button>
        <br>
        Account: <input auto-complete="accounts:name" />
      </div>
    </div>
  </div>
  <script type="text/ng-template" id="transactionModal.html">
  </script>
</div>
